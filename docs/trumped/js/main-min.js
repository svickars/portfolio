function inline_legend_mousover(e){d3.selectAll(".bg_tweet").style("opacity",".25"),d3.selectAll(".bg_tweet-"+e).style("opacity","1")}function inline_legend_words_mouseover(e){d3.selectAll(".bg_tweetword").style("opacity",".25"),d3.selectAll(".bg_tweetword-"+e).style("opacity","1")}function section2(){function e(e){$("#tweetNumberTitle").html(ordinalInWord(e.tweet_number)),$("#section2tweet").html("<div class='s2tb_wrapper'><div class='s2tb_header'><div class='s2tb_author'><div class='s2tb_image'></div><div class='s2tb_user'><span class='s2tb_name'>Donald J. Trump<div class='s2tb_verified'></div></span></br><span class='s2tb_username'>@realDonaldTrump</span></div></div><div class='s2tb_follow'><a href='http://twitter.com/realDonaldTrump' class='a_follow'><i class='fa fa-twitter' aria-hidden='true'></i>&nbsp; Follow</a></div></div><div class='s2tb_text'>"+e.text+"</div><div class='s2tb_footer'>"+e.created_at+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class='fa fa-retweet' aria-hidden='true'></i>&nbsp; "+e.retweet_count+"</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class='fa fa-heart' aria-hidden='true'></i>&nbsp; "+e.favorite_count+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='inline-legend legend-"+camelize(e.topic)+"''>"+e.topic+"</a></div></div>")}function t(e){d3.selectAll(".s2-tweet").transition().style("opacity",.05),d3.selectAll(".s2-tweet-"+e).filter(".isshown").transition().style("opacity",1),$("#showandroid").removeClass("isselected"),$("#showiPhone").removeClass("isselected"),$("#show"+e).toggleClass("isselected"),$("#showBoth").removeClass("isselected")}var o=margin.left-15,n=d3.select("#section2chart").append("svg").style("width",s2w+margin.left+margin.right+"px").style("height",s2h+margin.top+margin.bottom+"px").attr("width",s2w+margin.left+margin.right).attr("height",s2h+margin.top+margin.bottom).attr("transform","translate("+margin.left+","+margin.top+")"),s=n.append("g").attr("transform","translate("+margin.left+","+margin.top+")").attr("class","s2svg");translateHeight=s2startingHeight+25+100;var l=n.append("g").attr("transform","translate(0,"+translateHeight+")").attr("class","x axis").call(d3.axisBottom(x).ticks(d3.timeMonth).tickSize(0,0).tickFormat(d3.timeFormat("%b")).tickSizeInner(0).tickPadding(10)),i=n.append("line").attr("x1",25).attr("x2",s2w).attr("y1",function(e){return y(hmsToSecondsOnly(parseTime(parseDateTime("01/01/2017 6:00:00"))))}).attr("y2",function(e){return y(hmsToSecondsOnly(parseTime(parseDateTime("01/01/2017 6:00:00"))))}).attr("class","yaxis"),a=n.append("line").attr("x1",25).attr("x2",s2w).attr("y1",function(e){return y(hmsToSecondsOnly(parseTime(parseDateTime("01/01/2017 12:00:00"))))}).attr("y2",function(e){return y(hmsToSecondsOnly(parseTime(parseDateTime("01/01/2017 12:00:00"))))}).attr("class","yaxis"),r=n.append("line").attr("x1",25).attr("x2",s2w).attr("y1",function(e){return y(hmsToSecondsOnly(parseTime(parseDateTime("01/01/2017 18:00:00"))))}).attr("y2",function(e){return y(hmsToSecondsOnly(parseTime(parseDateTime("01/01/2017 18:00:00"))))}).attr("class","yaxis"),c=n.append("line").attr("x1",25).attr("x2",s2w).attr("y1",function(e){return y(hmsToSecondsOnly(parseTime(parseDateTime("01/01/2017 23:59:59"))))}).attr("y2",function(e){return y(hmsToSecondsOnly(parseTime(parseDateTime("01/01/2017 23:59:59"))))}).attr("class","yaxis");n.append("text").attr("x",s2w+2).attr("y",function(e){return y(hmsToSecondsOnly(parseTime(parseDateTime("01/01/2017 06:00:00"))))}).attr("dy","2px").attr("class","yaxislabel").text("6a"),n.append("text").attr("x",s2w+2).attr("y",function(e){return y(hmsToSecondsOnly(parseTime(parseDateTime("01/01/2017 12:00:00"))))}).attr("dy","2px").attr("class","yaxislabel").text("12p"),n.append("text").attr("x",s2w+2).attr("y",function(e){return y(hmsToSecondsOnly(parseTime(parseDateTime("01/01/2017 18:00:00"))))}).attr("dy","2px").attr("class","yaxislabel").text("6p"),n.append("text").attr("x",s2w+2).attr("y",function(e){return y(hmsToSecondsOnly(parseTime(parseDateTime("01/01/2017 23:59:59"))))}).attr("dy","2px").attr("class","yaxislabel").text("12a"),n.append("text").attr("x",s2w/2).attr("y",15).attr("class","graph-title").attr("text-anchor","middle").text("@realDonaldTrump's first 100 days"),d3.select(".graph2-title").attr("width",s2w),d3.select("#section2tweet").append("text").attr("x",s2w/2).attr("y",15).attr("class","graph-title").attr("text-anchor","middle").text("Hi first tweet as president");var d=n.append("text").attr("x",-112).attr("y",10).attr("class","graph-yaxis-title").attr("text-anchor","middle").attr("transform","rotate(-90)").text("tweets"),g=n.append("text").attr("x",-180).attr("y",10).attr("class","graph-yaxis-title").attr("text-anchor","middle").attr("transform","rotate(-90)").text("events"),p=n.append("line").attr("y1",130).attr("y2",215).attr("class","keytweetline"),u=n.append("text").attr("x",50).attr("y",225).attr("class","keytweetdate").text("15 April"),m=new ScrollMagic.Scene({triggerElement:".s2-left-inner",duration:"1500%"}).offset("300px").setPin(".s2-left-inner",{pushfollowers:!1}).addTo(controller);new ScrollMagic.Scene({triggerElement:"#footnotes"}).triggerHook("onEnter").addTo(controller).on("progress",function(e){"FORWARD"===e.scrollDirection&&m.removePin()});const b=d3.annotationLabel,f=d3.annotationCustomType(d3.annotationLabel,{className:"s2annotationArrow",connector:{end:"arrow",type:"elbow"},note:{align:"right",orientation:"topBottom",lineType:"horizontal"}}),_=d3.annotationCustomType(d3.annotationLabel,{className:"s2annotationDot",connector:{end:"dot"},note:{align:"left",orientation:"topBottom",lineType:"vertical"}}),h=[{note:{label:"Day 1"},className:"anno-day1",type:_,x:x(parseDateTime("1/20/2017 1:00:00")),y:130,dy:5,dx:0},{note:{label:"Day 10"},className:"anno-day10",type:_,x:x(parseDateTime("1/30/2017 1:00:00")),y:130,dy:5,dx:0},{note:{label:"Day 25"},className:"anno-day25",type:_,x:x(parseDateTime("2/14/2017 1:00:00")),y:130,dy:5,dx:0},{note:{label:"Day 50"},className:"anno-day50",type:_,x:x(parseDateTime("3/11/2017 1:00:00")),y:130,dy:5,dx:0},{note:{label:"Day 75"},className:"anno-day75",type:_,x:x(parseDateTime("4/5/2017 1:00:00")),y:130,dy:5,dx:0},{note:{label:"Day 100"},className:"anno-day100",type:_,x:x(parseDateTime("4/29/2017 23:59:59")),y:130,dy:5,dx:0},{note:{label:"The first 10% of tweets"},className:"anno-percent10",type:f,x:x(parseDateTime("1/28/2017 23:00:20")),y:130,dy:100,dx:0},{note:{label:"The first 25% of tweets"},className:"anno-percent25",type:f,x:x(parseDateTime("2/9/2017 23:00:00")),y:130,dy:100,dx:0},{note:{label:"The first 50% of tweets"},className:"anno-percent50",type:f,x:x(parseDateTime("3/7/2017 23:00:00")),y:130,dy:100,dx:0},{note:{label:"The first 75% of tweets"},className:"anno-percent75",type:f,x:x(parseDateTime("4/3/2017 23:00:00")),y:130,dy:100,dx:0},{note:{label:"His longest Twitter silence"},className:"anno-break1",type:f,x:x(parseDateTime("4/15/2017 6:46:20")),y:130,dy:100,dx:0}],v=d3.annotation().type(b).annotations(h);n.append("g").attr("class","annotation-group").call(v);var A=n.append("rect").attr("x",x(parseDateTime("1/20/2017 1:00:20"))).attr("y",95).attr("width",function(e){return x(parseDateTime("1/28/2017 23:00:00"))-x(parseDateTime("1/20/2017 1:00:20"))}).attr("height",35).style("stroke","#e00000").style("fill","none").style("opacity",0),T=n.append("rect").attr("x",x(parseDateTime("1/20/2017 1:00:20"))).attr("y",95).attr("width",function(e){return x(parseDateTime("2/9/2017 23:00:00"))-x(parseDateTime("1/20/2017 1:00:20"))}).attr("height",35).style("stroke","#e00000").style("fill","none").style("opacity",0),D=n.append("rect").attr("x",x(parseDateTime("1/20/2017 1:00:20"))).attr("y",95).attr("width",function(e){return x(parseDateTime("3/07/2017 23:00:00"))-x(parseDateTime("1/20/2017 1:00:20"))}).attr("height",35).style("stroke","#e00000").style("fill","none").style("opacity",0),C=n.append("rect").attr("x",x(parseDateTime("1/20/2017 1:00:20"))).attr("y",95).attr("width",function(e){return x(parseDateTime("4/3/2017 23:00:00"))-x(parseDateTime("1/20/2017 1:00:20"))}).attr("height",35).style("stroke","#e00000").style("fill","none").style("opacity",0),S=n.append("rect").attr("x",x(parseDateTime("4/14/2017 17:46:20"))).attr("y",100).attr("width",function(e){return x(parseDateTime("4/16/2017 8:18:40"))-x(parseDateTime("4/14/2017 17:46:20"))}).attr("height",25).style("fill","#000").style("opacity",0);d3.json("js/data/100days.json",function(t){function o(o,n,s,l){e(t[o]),d3.selectAll(".s2-eventOutline").transition().style("opacity",0),d3.selectAll(".s2-eventOutline-"+n).style("display","block").transition().style("opacity",1),d3.selectAll(".s2-tweet").style("display","block").transition().duration(500).style("opacity",0),d3.selectAll(".s2-tweet-"+o).transition().style("opacity",1),p.style("display","block").transition().attr("x1",function(e){return x(parseDateTime(t[o].created_at))}).attr("x2",function(e){return x(parseDateTime(t[o].created_at))}).style("opacity",1),u.style("display","block").transition().attr("x",function(e){return x(parseDateTime(t[o].created_at))}).style("opacity",1).text(l)}new ScrollMagic.Scene({triggerElement:"#s2-day1"}).addTo(controller).on("progress",function(e){"FORWARD"===e.scrollDirection?(d3.selectAll(".s2-tweet").transition().duration(500).style("opacity",.1),d3.selectAll(".s2-tweet-1").transition().duration(500).style("opacity",1),d3.select(".anno-day1").transition().duration(750).style("opacity",1)):(d3.selectAll(".s2-tweet").transition().duration(500).style("opacity",1),d3.select(".anno-day1").transition().duration(750).style("opacity",0))}),new ScrollMagic.Scene({triggerElement:"#s2-day100"}).addTo(controller).on("progress",function(o){"FORWARD"===o.scrollDirection?(d3.selectAll(".s2-tweet-1").transition().duration(500).style("opacity",.1),d3.selectAll(".s2-tweet-501").transition().duration(500).style("opacity",1),d3.selectAll(".anno-day10, .anno-day25, .anno-day50, .anno-day75, .anno-day100").transition().duration(750).style("opacity",1),e(t[500])):(d3.selectAll(".s2-tweet-1").transition().duration(500).style("opacity",1),d3.selectAll(".s2-tweet-501").transition().duration(500).style("opacity",.1),d3.selectAll(".anno-day10, .anno-day25, .anno-day50, .anno-day75, .anno-day100").transition().duration(750).style("opacity",0),e(t[0]))}),new ScrollMagic.Scene({triggerElement:"#s2-percent10"}).addTo(controller).on("progress",function(o){"FORWARD"===o.scrollDirection?(A.transition().duration(500).style("opacity",1),d3.selectAll(".s2-tweet-501").transition().duration(500).style("opacity",.1),d3.selectAll(".s2-tweet-52").transition().duration(500).style("opacity",1),d3.selectAll(".anno-percent10").transition().duration(750).style("opacity",1),e(t[51])):(A.transition().duration(500).style("opacity",0),d3.selectAll(".s2-tweet-501").transition().duration(500).style("opacity",1),d3.selectAll(".s2-tweet-52").transition().duration(500).style("opacity",.1),d3.selectAll(".anno-percent10").transition().duration(750).style("opacity",0),e(t[500]))}),new ScrollMagic.Scene({triggerElement:"#s2-percent25"}).addTo(controller).on("progress",function(o){"FORWARD"===o.scrollDirection?(T.transition().duration(500).style("opacity",1),d3.selectAll(".s2-tweet-52").transition().duration(500).style("opacity",.1),d3.selectAll(".s2-tweet-129").transition().duration(500).style("opacity",1),d3.selectAll(".anno-percent10").transition().duration(750).style("opacity",0),d3.selectAll(".anno-percent25").transition().duration(750).style("opacity",1),e(t[128])):(T.transition().duration(500).style("opacity",0),d3.selectAll(".s2-tweet-129").transition().duration(500).style("opacity",.1),d3.selectAll(".s2-tweet-52").transition().duration(500).style("opacity",1),d3.selectAll(".anno-percent10").transition().duration(750).style("opacity",1),d3.selectAll(".anno-percent25").transition().duration(750).style("opacity",0),e(t[51]))}),new ScrollMagic.Scene({triggerElement:"#s2-percent75"}).addTo(controller).on("progress",function(o){"FORWARD"===o.scrollDirection?(C.transition().duration(500).style("opacity",1),D.transition().duration(500).style("opacity",1),d3.selectAll(".s2-tweet-129").transition().duration(500).style("opacity",.1),d3.selectAll(".s2-tweet-377").transition().duration(500).style("opacity",1),d3.selectAll(".anno-percent25").transition().duration(750).style("opacity",0),d3.selectAll(".anno-percent75, .anno-percent50").transition().duration(750).style("opacity",1),e(t[376])):(C.transition().duration(500).style("opacity",0),D.transition().duration(500).style("opacity",0),d3.selectAll(".s2-tweet-377").transition().duration(500).style("opacity",.1),d3.selectAll(".s2-tweet-129").transition().duration(500).style("opacity",1),d3.selectAll(".anno-percent25").transition().duration(750).style("opacity",1),d3.selectAll(".anno-percent75, .anno-percent50").transition().duration(750).style("opacity",0),e(t[128]))}),new ScrollMagic.Scene({triggerElement:"#s2-keytweet1"}).addTo(controller).on("progress",function(n){"FORWARD"===n.scrollDirection?(C.transition().style("opacity",0),D.transition().style("opacity",0),T.transition().style("opacity",0),A.transition().style("opacity",0),d3.selectAll(".anno-percent75, .anno-percent50, .anno-percent25, .anno-percent10").transition().style("opacity",0),d3.selectAll(".s2-tweet").transition().duration(500).style("opacity",0),d3.selectAll(".s2-tweet-18").transition().duration(500).style("opacity",1),o(15,2,1,"21 January")):(C.transition().style("opacity",1),D.transition().style("opacity",1),T.transition().style("opacity",1),A.transition().style("opacity",1),p.transition().style("opacity",0).style("display","none"),u.transition().style("opacity",0).style("display","none"),d3.selectAll(".s2-tweet").transition().duration(500).style("opacity",.1),d3.selectAll(".s2-tweet-377").transition().duration(500).style("opacity",1),d3.selectAll(".s2-eventOutline").transition().style("opacity",0).style("display","none"),e(t[376]))}),new ScrollMagic.Scene({triggerElement:"#s2-keytweet2"}).addTo(controller).on("progress",function(e){"FORWARD"===e.scrollDirection?o(54,13,1,"29 January"):(d3.selectAll(".s2-tweet-18").transition().duration(500).style("opacity",1),o(15,2,1,"21 January"))}),new ScrollMagic.Scene({triggerElement:"#s2-keytweet3"}).addTo(controller).on("progress",function(e){"FORWARD"===e.scrollDirection?o(72,16,1,"1 February"):o(54,13,1,"29 January")}),new ScrollMagic.Scene({triggerElement:"#s2-keytweet4"}).addTo(controller).on("progress",function(e){"FORWARD"===e.scrollDirection?(o(91,17,1,"4 February"),d3.selectAll(".s2-tweet-95, .s2-tweet-96").transition().duration(500).style("opacity",1)):o(72,16,1,"1 February")}),new ScrollMagic.Scene({triggerElement:"#s2-keytweet5"}).addTo(controller).on("progress",function(e){"FORWARD"===e.scrollDirection?o(443,"none",1,"21 April"):o(91,17,1,"4 February")});var s=s2height+25;new ScrollMagic.Scene({triggerElement:"#timings"}).addTo(controller).on("progress",function(e){"FORWARD"===e.scrollDirection?(m.transition().style("opacity",1),m.transition().delay(100).attr("y",function(e){return y(hmsToSecondsOnly(parseTime(parseDateTime(e.created_at))))-12}),l.transition().delay(100).attr("transform","translate(0,"+s+")"),i.style("display","block").transition().delay(200).style("opacity",1),a.style("display","block").transition().delay(200).style("opacity",1),r.style("display","block").transition().delay(200).style("opacity",1),c.style("display","block").transition().delay(200).style("opacity",1),d3.selectAll(".yaxislabel").style("display","block").transition().delay(200).style("opacity",1),g.transition().style("opacity",0).style("display","none"),d.transition().delay(100).attr("x",-200).text("Hours of the day"),d3.selectAll(".s2-event").transition().style("opacity",0).style("display","none"),d3.selectAll(".s2annotationDot").transition().style("opacity",0).style("display","none"),p.transition().style("opacity",0).style("display","none"),u.transition().style("opacity",0).style("display","none")):(m.attr("y",100),l.transition().attr("transform","translate(0,"+translateHeight+")"),i.transition().style("opacity",0).style("display","none"),a.transition().style("opacity",0).style("display","none"),r.transition().style("opacity",0).style("display","none"),c.transition().style("opacity",0).style("display","none"),d3.selectAll(".yaxislabel").transition().style("opacity",1).style("display","none"),o(443,"none",1,"21 April"),g.style("display","block").transition().style("opacity",1),d.transition().attr("x",-112).text("tweets"),d3.selectAll(".s2-event").transition().style("display","block").style("opacity",1),d3.selectAll(".s2annotationDot").style("display","block").style("opacity",1),p.style("display","none").transition().style("opacity",0),u.style("display","none").transition().style("opacity",0))}),new ScrollMagic.Scene({triggerElement:"#timings-election"}).addTo(controller).on("progress",function(e){"FORWARD"===e.scrollDirection?(d3.selectAll(".s2-tweet").classed("isshown",!1),d3.selectAll(".s2-tweet").transition().style("opacity",0).style("display","none"),d3.selectAll(".s2-tweet-election").classed("isshown",!0),d3.selectAll(".isshown").transition().style("display","block").style("opacity",1),$("#filter-election").prop("checked",!0)):(d3.selectAll(".s2-tweet").classed("isshown",!1),d3.selectAll(".s2-tweet").style("display","block").transition().style("opacity",1),$("#filter-all").prop("checked",!0))}),new ScrollMagic.Scene({triggerElement:"#timings-muslimban"}).addTo(controller).on("progress",function(e){"FORWARD"===e.scrollDirection?(d3.selectAll(".s2-tweet").classed("isshown",!1),d3.selectAll(".s2-tweet").transition().style("opacity",0).style("display","none"),d3.selectAll(".s2-tweet-immigrationBan").classed("isshown",!0),d3.selectAll(".isshown").transition().style("display","block").style("opacity",1),$("#filter-immigrationBan").prop("checked",!0)):(d3.selectAll(".s2-tweet").classed("isshown",!1),d3.selectAll(".s2-tweet").transition().style("opacity",0).style("display","none"),d3.selectAll(".s2-tweet-election").classed("isshown",!0),d3.selectAll(".isshown").transition().style("display","block").style("opacity",1),$("#filter-election").prop("checked",!0))}),new ScrollMagic.Scene({triggerElement:"#timings-fakenews"}).addTo(controller).on("progress",function(e){"FORWARD"===e.scrollDirection?(d3.selectAll(".s2-tweet").classed("isshown",!1),d3.selectAll(".s2-tweet").transition().style("opacity",0).style("display","none"),d3.selectAll(".s2-tweet-fakeNews").classed("isshown",!0),d3.selectAll(".isshown").transition().style("display","block").style("opacity",1),$("#filter-fakeNews").prop("checked",!0)):(d3.selectAll(".s2-tweet").classed("isshown",!1),d3.selectAll(".s2-tweet").transition().style("opacity",0).style("display","none"),d3.selectAll(".s2-tweet-immigrationBan").classed("isshown",!0),d3.selectAll(".isshown").transition().style("display","block").style("opacity",1),$("#filter-immigrationBan").prop("checked",!0))}),new ScrollMagic.Scene({triggerElement:"#sources"}).addTo(controller).on("progress",function(e){"FORWARD"===e.scrollDirection?(d3.selectAll(".s2-tweet").classed("isshown",!1),d3.selectAll(".s2-tweet").style("display","block").transition().style("opacity",1),d3.selectAll(".s2-tweet").transition().style("opacity",.05),d3.selectAll(".s2-tweet-android").transition().style("opacity",1),$("#showiPhone").removeClass("isselected"),$("#showandroid").addClass("isselected"),$("#showBoth").removeClass("isselected"),$("#filter-all").prop("checked",!0)):(d3.selectAll(".s2-tweet-fakeNews").classed("isshown",!0),d3.selectAll(".isshown").transition().style("display","block").style("opacity",1),$("#filter-fakeNews").prop("checked",!0))}),d3.select("#s2-keytweet15").on("click",function(){e(t[17])}),d3.select("#s2-keytweet45").on("click",function(){e(t[94])}),d3.select("#s2-keytweet46").on("click",function(){e(t[95])}),$("#section2tweet").html("<div class='s2tb_wrapper'><div class='s2tb_header'><div class='s2tb_author'><div class='s2tb_image'></div><div class='s2tb_user'><span class='s2tb_name'>Donald J. Trump<div class='s2tb_verified'></div></span></br><span class='s2tb_username'>@realDonaldTrump</span></div></div><div class='s2tb_follow'><a href='http://twitter.com/realDonaldTrump' class='a_follow'><i class='fa fa-twitter' aria-hidden='true'></i>&nbsp; Follow</a></div></div><div class='s2tb_text'>"+t[0].text+"</div><div class='s2tb_footer'>"+t[0].created_at+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class='fa fa-retweet' aria-hidden='true'></i>&nbsp; "+t[0].retweet_count+"</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class='fa fa-heart' aria-hidden='true'></i>&nbsp; "+t[0].favorite_count+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='inline-legend legend-"+camelize(t[0].topic)+"''>"+t[0].topic+"</a></div></div>");var m=n.selectAll("tweets").data(t).enter().append("rect").attr("class",function(e){return"s2-tweet s2-tweet-"+camelize(e.topic)+" s2-tweet-"+e.tweet_number+" s2-tweet-"+e.source+" isshown"}).attr("x",function(e){return x(parseDateTime(e.created_at))}).attr("y",100).attr("width",function(e){return w(e.text.length)}).attr("height",25).on("mouseover",function(e){m.transition().style("opacity",.25),d3.select(this).transition().style("opacity",1)}).on("click",function(t){e(t)}).on("mouseout",function(e){m.transition().style("opacity",1)})}),d3.json("js/data/100days_events.json",function(e){var t=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(e){return"<span class='s2-event-date'>"+parseDate(parseDateTime(e.date))+"</span>&nbsp;&nbsp;"+e.desc+"</br><span class='s2-event-source'>"+e.source+"</span>"});n.call(t);var o=n.selectAll("events").data(e).enter().append("circle").attr("class",function(e){return"s2-eventOutline s2-eventOutline-"+e.event_number}).attr("cx",function(e){return x(parseDateTime(e.date))}).attr("cy",function(e){return 175+4*e.daily_number}).attr("r",5),s=n.selectAll("events").data(e).enter().append("circle").attr("class",function(e){return"s2-event s2-event-"+camelize(e.category)}).attr("cx",function(e){return x(parseDateTime(e.date))}).attr("cy",function(e){return 175+4*e.daily_number}).attr("r",3).on("mouseover",t.show).on("mouseout",t.hide)}),d3.select("#section2chart").append("div").attr("class","s2filters").attr("id","full-container").style("width",s2w+"px").style("left",margin.left+25+"px").html('<div class="arrow left"><i class="fa fa-angle-left scrollButton fa-3x" id="scrollRight" aria-hidden="true"></i></div><div id="wrapper"><div id="content" class="s2filters-content"></div></div><div class="arrow right"><i class="fa fa-angle-right scrollButton fa-3x" id="scrollRight" aria-hidden="true"></i></div>'),d3.select("#section2chart").append("div").attr("class","s2filters2").style("width",s2w-margin.right+"px").style("left",margin.left+25+"px").html("Show tweets from&nbsp;&nbsp;<span class='sourceFilter' id='showiPhone'>iPhone</span><span class='sourceFilter' id='showandroid'>Android</span><span class='sourceFilter isselected' id='showBoth'>Both</span>"),d3.select("#showiPhone").on("click",function(e){t("iPhone")}),d3.select("#showandroid").on("click",function(e){t("android")}),d3.select("#showBoth").on("click",function(e){$("#showandroid").removeClass("isselected"),$("#showiPhone").removeClass("isselected"),$("#showBoth").addClass("isselected"),d3.selectAll(".s2-tweet").transition().style("opacity",1)}),d3.select(".s2filters-content").append("span").attr("class",function(e){return"filterbutton all-filter"}).html('<input type="radio" id="filter-all" name="radio-group" checked><label for="filter-all"><span class="all-text">All</span></label>').on("click",function(e){d3.selectAll(".s2-tweet").classed("isshown",!0),d3.selectAll(".s2-tweet").style("display","block").transition().style("opacity",1)}),d3.json("js/data/cats.json",function(e){var t=d3.select(".s2filters-content").selectAll("filters").data(e).enter().append("span").attr("class",function(e){return"filterbutton "+e.catClass+"-filter"}).html(function(e){return'<input type="radio" id="filter-'+e.catClass+'" name="radio-group"><label for="filter-'+e.catClass+'"><span class="'+e.catClass+'-text">'+e.label+"</span></label>"}).on("click",function(e){$("#showandroid").removeClass("isselected"),$("#showiPhone").removeClass("isselected"),$("#showBoth").addClass("isselected"),d3.selectAll(".s2-tweet").style("display","none").transition().style("opacity",0),d3.selectAll(".s2-tweet").classed("isshown",!1),d3.selectAll(".s2-tweet-"+e.catClass).classed("isshown",!0),d3.selectAll(".isshown").transition().style("display","block").style("opacity",1)})});var k=$("#content"),W=$(".arrow"),B=$("#wrapper").scroll(function(){this.scrollLeft>0?W.filter(".left").addClass("visible"):W.filter(".left").removeClass("visible"),k.outerWidth()-this.scrollLeft>B.width()?W.filter(".right").addClass("visible"):W.filter(".right").removeClass("visible")});W.on("click",function(){return $(this).is(".left")?B[0].scrollLeft-=200:B[0].scrollLeft+=200,!1}),B.trigger("scroll")}function camelize(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0==t?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,"")}function hmsToSecondsOnly(e){for(var t=e.split(":"),o=0,n=1;t.length>0;)o+=n*parseInt(t.pop(),10),n*=60;return o}function getPosition(e){for(var t=0,o=0;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,o+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:o}}function ordinalInWord(e){var t=["zeroth","first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth","eleventh","twelfth","thirtheenth","fourteenth","fifteenth","sixteenth","seventeenth","eighteenth","nineteenth","twentieth"],o={20:"twenty",30:"thirty",40:"forty",50:"fifty",60:"sixty",70:"seventy",80:"eighty",90:"ninety",100:"one-hundred",200:"two-hundred",300:"three-hundred",400:"four-hundred",500:"five-hundred"},n={30:"thirtieth",40:"fortieth",50:"fiftieth",60:"sixtieth",70:"seventieth",80:"eightieth",90:"ninetieth",100:"one-hundredth",200:"two-hundredth",300:"three-hundredth",400:"four-hundredth",500:"five-hundredth"};return e<=20?t[e]:e<=100&&e%10==0?n[e]:e<=100?o[e-e%10]+t[e%10]:e>100&&e<=120?"one-hundred and "+t[e-100]:e>120&&e<200&&e%10==0?"one-hundred and "+n[e-100]:e<200?"one-hundred and "+o[e-100-(e-100)%10]+t[(e-100)%10]:200===e?n[e]:e>200&&e<=220?"two-hundred and "+t[e-200]:e>220&&e<300&&e%10==0?"two-hundred and "+n[e-200]:e<300?"two-hundred and "+o[e-200-(e-200)%10]+t[(e-200)%10]:300===e?n[e]:e>300&&e<=320?"three-hundred and "+t[e-300]:e>320&&e<400&&e%10==0?"three-hundred and "+n[e-300]:e<400?"three-hundred and "+o[e-300-(e-300)%10]+t[(e-300)%10]:400===e?n[e]:e>400&&e<=420?"four-hundred and "+t[e-400]:e>420&&e<500&&e%10==0?"four-hundred and "+n[e-400]:e<500?"four-hundred and "+o[e-400-(e-400)%10]+t[(e-400)%10]:500===e?n[e]:e>500&&e<=520?"five-hundred and "+t[e-500]:e>520&&e<600&&e%10==0?"five-hundred and "+n[e-500]:e<600?"five-hundred and "+o[e-500-(e-500)%10]+t[(e-500)%10]:void 0}jQuery(document).ready(function($){function e(){var e=$(".cd-main-nav-wrapper");t()?(e.detach(),e.insertBefore(".cd-nav-trigger")):(e.detach(),e.insertAfter(".cd-main-content"))}function t(){return"mobile"!=window.getComputedStyle(document.querySelector("header"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}e(),$(window).on("resize",function(){window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,300)}),$(".cd-nav-trigger").on("click",function(e){e.preventDefault(),$("header").hasClass("nav-is-visible")&&$(".moves-out").removeClass("moves-out"),$("header").toggleClass("nav-is-visible"),$(".cd-main-nav").toggleClass("nav-is-visible"),$(".cd-main-content").toggleClass("nav-is-visible")}),$(".go-back").on("click",function(e){e.preventDefault(),$(".cd-main-nav").removeClass("moves-out")}),$(".cd-subnav-trigger").on("click",function(e){e.preventDefault(),$(".cd-main-nav").toggleClass("moves-out"),$("#menulink").toggleClass(".menulink-opp"),$(".cd-logo").toggleClass(".cd-logo-opp")})});var color=d3.scaleLinear().domain([1,length]).interpolate(d3.interpolateHcl).range([d3.rgb("#FF5C5C"),d3.rgb("#CC0000")]),color2=d3.scaleLinear().domain([1,length]).interpolate(d3.interpolateHcl).range([d3.rgb("#92A1CF"),d3.rgb("#191970")]),color3=d3.scaleLinear().domain([1,length]).interpolate(d3.interpolateHcl).range([d3.rgb("#00fa9a"),d3.rgb("#ff0000")]),color4=d3.scaleLinear().domain([1,length]).interpolate(d3.interpolateHcl).range([d3.rgb("#40e0d0"),d3.rgb("#4682b4")]),color5=d3.scaleLinear().domain([1,length]).interpolate(d3.interpolateHcl).range([d3.rgb("#ffd700"),d3.rgb("#bdb76b")]),color6=d3.scaleLinear().domain([1,length]).interpolate(d3.interpolateHcl).range([d3.rgb("#92A1CF"),d3.rgb("#191970")]),bgVizContainer=d3.select(".bg-viz").append("div").attr("class","bg-viz-container"),controller=new ScrollMagic.Controller;d3.json("js/data/100days.json",function(e){for(var t=[],o=0;o<e.length;o++){var n=e[o].word_list,s=bgVizContainer.append("span").attr("class","bg_tweet bg_tweet_n-"+o+" bg_tweet-"+camelize(e[o].topic)).html("<span class='bg_tweet_name'>@realDonaldTrump </span>");d3.selectAll(".bg_tweet").classed("by-topic",!0),t.push($(".bg_tweet_n-"+o).css("color"));for(var l=e[o].pos_list,i=0;i<n.length;i++){var a=s.append("span").attr("class","bg_tweetword bg_tweetword-"+l[i].replace("$","d")).attr("id","bg_tweetword-"+o+"-"+i).html(n[i].replace(/InaugurationDay/g,"#InaugurationDay").replace(/MAGA/g,"#MAGA").replace(/AmericaFirst/g,"#AmericaFirst").replace(/MarchForLife/g,"#MarchForLife").replace(/NeverForget/g,"#NeverForget").replace(/SuperBowl/g,"#SuperBowl").replace(/MarineOne/g,"#MarineOne").replace(/ICYMI/g,"#ICYMI").replace(/JointAddress/g,"#JointAddress").replace(/JointSession/g,"#JointSession").replace(/ReadTheBill/g,"#ReadTheBill").replace(/POTUS7/g,"#POTUS7").replace(/PassTheBill/g,"#PassTheBill").replace(/RepealANDReplace/g,"#RepealANDReplace").replace(/NationalAgDay/g,"#NationalAgDay").replace(/KeystonePipeline/g,"#KeystonePipeline").replace(/MedalOfHonorDay/g,"#MedalOfHonorDay").replace(/MadeInTheUSA/g,"#MadeInTheUSA").replace(/ThankAVeteran/g,"#ThankAVeteran").replace(/Obamacare/g,"#Obamacare").replace(/MakeAmericaGreatAgain/g,"#MakeAmericaGreatAgain").replace(/USA/g,"#USA").replace(/ConfirmGorsuch/g,"#ConfirmGorsuch").replace(/WeeklyAddress/g,"#WeeklyAddress").replace(/WorldAutismAwarenessDay/g,"#WorldAutismAwarenessDay").replace(/CEOTownHall/g,"#CEOTownHall").replace(/NABTU2017/g,"#NABTU2017").replace(/SoldierRideDC/g,"#SoldierRideDC").replace(/ChagSameach/g,"#ChagSameach").replace(/SyrianStrikes/g,"#SyrianStrikes").replace(/BuyAmericanHireAmerican/g,"#BuyAmericanHireAmerican").replace(/S544/g,"#S544").replace(/GodBlessTheUSA/g,"#GodBlessTheUSA").replace(/BuildTheWall/g,"#BuildTheWall").replace(/CongratsPeggy/g,"#CongratsPeggy").replace(/ObamaCare/g,"#ObamaCare").replace(/Canada/g,"#Canada").replace(/https /g,"https:")+" ");!0===n[i].includes("http")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-WEB",!0),!0===n[i].includes("media")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-media",!0),!0===n[i].includes("Trump")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-Trump",!0),!0===n[i].includes("people")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-people",!0),!0===n[i].includes("President")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-President",!0),!0===n[i].includes("country")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-country",!0),!0===n[i].includes("me")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-me",!0),!0===n[i].includes("Whitehouse")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-Whitehouse",!0),!0===n[i].includes("great")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-great",!0),!0===n[i].includes("FAKE")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-FAKE",!0),!0===n[i].includes("American")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-American",!0),
!0===n[i].includes("election")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-election",!0),!0===n[i].includes("Obama")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-Obama",!0),!0===n[i].includes("Democrats")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-Democrats",!0),!0===n[i].includes("Russia")&&d3.select("#bg_tweetword-"+o+"-"+i).classed("bg_tweetword-Russia",!0)}}new ScrollMagic.Scene({triggerElement:"#sentiment"}).addTo(controller).on("progress",function(o){var n=o.scrollDirection;$(".bg_tweetword-media").toggleClass("bg_tweetword-common"),$(".bg_tweetword-Trump").toggleClass("bg_tweetword-common"),$(".bg_tweetword-people").toggleClass("bg_tweetword-common"),$(".bg_tweetword-President").toggleClass("bg_tweetword-common"),$(".bg_tweetword-me").toggleClass("bg_tweetword-common"),$(".bg_tweetword-Whitehouse").toggleClass("bg_tweetword-common"),$(".bg_tweetword-Great").toggleClass("bg_tweetword-common"),$(".bg_tweetword-FAKE").toggleClass("bg_tweetword-common"),$(".bg_tweetword-America").toggleClass("bg_tweetword-common"),$(".bg_tweetword-election").toggleClass("bg_tweetword-common");for(var s=0;s<e.length;s++)"FORWARD"===n?$(".bg_tweet_n-"+s).css("background-color",color(e[s].polarity)):$(".bg_tweet_n-"+s).css("background-color",t[s]);$(".bg_tweet").toggleClass("by-polarity")}),new ScrollMagic.Scene({triggerElement:"#grammar"}).addTo(controller).on("progress",function(t){if("REVERSE"===t.scrollDirection)for(var o=0;o<e.length;o++)$(".bg_tweet_n-"+o).css("background-color",color(e[o].polarity))})}),$(function(){$("#pol1").css("background-color",color(0)),$("#sub1").css("background-color",color2(1)),$("#pol2").css("background-color",color(0)),$("#sub2").css("background-color",color2(1)),$("#pol3").css("background-color",color(0)),$("#sub3").css("background-color",color2(0)),$("#pol4").css("background-color",color(.8)),$("#sub4").css("background-color",color2(.9)),$("#rl1").css("background-color",color3(.2)),$("#sp1").css("background-color",color2(.2)),$("#tone1").css("background-color",color5(.5)),$("#sent1").css("background-color",color(.25)),$("#rl2").css("background-color",color3(1)),$("#sp2").css("background-color",color2(.1)),$("#tone2").css("background-color",color5(.5)),$("#sent2").css("background-color",color(.5));var e=new ScrollMagic.Scene({triggerElement:"#bg-viz",duration:distance2grammar}).triggerHook(0).setPin("#bg-viz").addTo(controller);new ScrollMagic.Scene({triggerElement:"#startit"}).addTo(controller).on("progress",function(e){$(".bg_tweet_name").toggleClass("bg_tweet-solid"),setTimeout(function(){$(".bg_tweet-makingAmericaGreatAgain.by-topic").toggleClass("bg_tweet-solid")},50),setTimeout(function(){$(".bg_tweet-jobs.by-topic").toggleClass("bg_tweet-solid")},100),setTimeout(function(){$(".bg_tweet-officialBusiness.by-topic").toggleClass("bg_tweet-solid")},200),setTimeout(function(){$(".bg_tweet-election.by-topic").toggleClass("bg_tweet-solid")},300),setTimeout(function(){$(".bg_tweet-media.by-topic").toggleClass("bg_tweet-solid")},400),setTimeout(function(){$(".bg_tweet-foreignAffairs.by-topic").toggleClass("bg_tweet-solid")},500),setTimeout(function(){$(".bg_tweet-immigrationBan.by-topic").toggleClass("bg_tweet-solid")},600),setTimeout(function(){$(".bg_tweet-fakeNews.by-topic").toggleClass("bg_tweet-solid")},700),setTimeout(function(){$(".bg_tweet-democraticParty.by-topic").toggleClass("bg_tweet-solid")},800),setTimeout(function(){$(".bg_tweet-unofficialBusiness.by-topic").toggleClass("bg_tweet-solid")},900),setTimeout(function(){$(".bg_tweet-russia.by-topic").toggleClass("bg_tweet-solid")},950),setTimeout(function(){$(".bg_tweet-republicanParty.by-topic").toggleClass("bg_tweet-solid")},1e3),setTimeout(function(){$(".bg_tweet-foreignLeader.by-topic").toggleClass("bg_tweet-solid")},1100),setTimeout(function(){$(".bg_tweet-healthcare.by-topic").toggleClass("bg_tweet-solid")},1150)}),new ScrollMagic.Scene({triggerElement:"#commonwords"}).addTo(controller).on("progress",function(e){$(".bg_tweetword-media").toggleClass("bg_tweetword-common"),$(".bg_tweetword-Trump").toggleClass("bg_tweetword-common"),$(".bg_tweetword-people").toggleClass("bg_tweetword-common"),$(".bg_tweetword-President").toggleClass("bg_tweetword-common"),$(".bg_tweetword-me").toggleClass("bg_tweetword-common"),$(".bg_tweetword-Whitehouse").toggleClass("bg_tweetword-common"),$(".bg_tweetword-Great").toggleClass("bg_tweetword-common"),$(".bg_tweetword-FAKE").toggleClass("bg_tweetword-common"),$(".bg_tweetword-America").toggleClass("bg_tweetword-common"),$(".bg_tweetword-election").toggleClass("bg_tweetword-common")}),new ScrollMagic.Scene({triggerElement:"#tweetbox1"}).addTo(controller).on("progress",function(e){$(".bg_tweet_n-78").toggleClass("tweetbox-select")}),new ScrollMagic.Scene({triggerElement:"#tweetbox2"}).addTo(controller).on("progress",function(e){$(".bg_tweet_n-78").toggleClass("tweetbox-select"),$(".bg_tweet_n-87").toggleClass("tweetbox-select")}),new ScrollMagic.Scene({triggerElement:"#tweetbox3"}).addTo(controller).on("progress",function(e){$(".bg_tweet_n-87").toggleClass("tweetbox-select"),$(".bg_tweet_n-480").toggleClass("tweetbox-select")});var t=new ScrollMagic.Scene({triggerElement:"#tweetbox4"}).addTo(controller);t.on("progress",function(e){$(".bg_tweet_n-480").toggleClass("tweetbox-select"),$(".bg_tweet_n-259").toggleClass("tweetbox-select")}),new ScrollMagic.Scene({triggerElement:"#grammar"}).addTo(controller).on("progress",function(e){"FORWARD"===e.scrollDirection&&$(".bg_tweet").css("background-color","#ffffff"),$(".bg_tweet_n-259").toggleClass("tweetbox-select"),$(".bg_tweetword").toggleClass("by-pos"),setTimeout(function(){$(".bg_tweetword-JJ, .bg_tweetword-UH").toggleClass("bg_tweetword-solid")},400),setTimeout(function(){$(".bg_tweetword-JJR, .bg_tweetword-FW").toggleClass("bg_tweetword-solid")},600),setTimeout(function(){$(".bg_tweetword-JJS, .bg_tweetword-WRB, .bg_tweetword-WP").toggleClass("bg_tweetword-solid")},800),setTimeout(function(){$(".bg_tweetword-NN").toggleClass("bg_tweetword-solid")},850),setTimeout(function(){$(".bg_tweetword-NNS").toggleClass("bg_tweetword-solid")},850),setTimeout(function(){$(".bg_tweetword-NNP, .bg_tweetword-POS").toggleClass("bg_tweetword-solid")},950),setTimeout(function(){$(".bg_tweetword-NNPS").toggleClass("bg_tweetword-solid")},1e3),setTimeout(function(){$(".bg_tweetword-PRP, .bg_tweetword-PRPd").toggleClass("bg_tweetword-solid")},1050),setTimeout(function(){$(".bg_tweetword-DT, .bg_tweetword-WDT, .bg_tweetword-MD, .bg_tweetword-IN, .bg_tweetword-CD, .bg_tweetword-CC, .bg_tweetword-TO, .bg_tweetword-RP, .bg_tweetword-EX").toggleClass("bg_tweetword-solid")},1200),setTimeout(function(){$(".bg_tweetword-VB, .bg_tweetword-VBD, .bg_tweetword-VBG, .bg_tweetword-VBN, .bg_tweetword-VBP, .bg_tweetword-VBZ").toggleClass("bg_tweetword-solid")},1350),setTimeout(function(){$(".bg_tweetword-RB, .bg_tweetword-RBR, .bg_tweetword-RBS").toggleClass("bg_tweetword-solid")},1450),setTimeout(function(){$(".bg_tweet_name").toggleClass("bg_tweet_name_solid")},1500),setTimeout(function(){$(".bg_tweetword-WEB").addClass("bg_tweetword-solid")},1600)});var o=new ScrollMagic.Scene({triggerElement:"#section2"}).triggerHook("onEnter").addTo(controller);t.on("progress",function(e){section2()})}),d3.select(".legend-jobs").on("mouseover",function(e){inline_legend_mousover("jobs")}).on("mouseout",function(e){d3.selectAll(".bg_tweet").style("opacity",1)}),d3.select(".legend-media").on("mouseover",function(e){inline_legend_mousover("media")}).on("mouseout",function(e){d3.selectAll(".bg_tweet").style("opacity",1)}),d3.select(".legend-foreignAffairs").on("mouseover",function(e){inline_legend_mousover("foreignAffairs")}).on("mouseout",function(e){d3.selectAll(".bg_tweet").style("opacity",1)}),d3.select(".legend-fakeNews").on("mouseover",function(e){inline_legend_mousover("fakeNews")}).on("mouseout",function(e){d3.selectAll(".bg_tweet").style("opacity",1)}),d3.select(".legend-immigrationBan").on("mouseover",function(e){inline_legend_mousover("immigrationBan")}).on("mouseout",function(e){d3.selectAll(".bg_tweet").style("opacity",1)}),d3.select(".legend-makingAmericaGreatAgain").on("mouseover",function(e){inline_legend_mousover("makingAmericaGreatAgain")}).on("mouseout",function(e){d3.selectAll(".bg_tweet").style("opacity",1)}),d3.select(".legend-healthcare").on("mouseover",function(e){inline_legend_mousover("healthcare")}).on("mouseout",function(e){d3.selectAll(".bg_tweet").style("opacity",1)}),d3.select(".legend-unofficialBusiness").on("mouseover",function(e){inline_legend_mousover("unofficialBusiness")}).on("mouseout",function(e){d3.selectAll(".bg_tweet").style("opacity",1)}),d3.select(".legend-democraticParty").on("mouseover",function(e){inline_legend_mousover("democraticParty")}).on("mouseout",function(e){d3.selectAll(".bg_tweet").style("opacity",1)}),d3.select(".legend-russia").on("mouseover",function(e){inline_legend_mousover("russia")}).on("mouseout",function(e){d3.selectAll(".bg_tweet").style("opacity",1)}),d3.select(".legend-foreignLeader").on("mouseover",function(e){inline_legend_mousover("foreignLeader")}).on("mouseout",function(e){d3.selectAll(".bg_tweet").style("opacity",1)}),d3.select(".legend-election").on("mouseover",function(e){inline_legend_mousover("election")}).on("mouseout",function(e){d3.selectAll(".bg_tweet").style("opacity",1)}),d3.select(".legend-republicanParty").on("mouseover",function(e){inline_legend_mousover("republicanParty")}).on("mouseout",function(e){d3.selectAll(".bg_tweet").style("opacity",1)}),d3.select(".legend-officialBusiness").on("mouseover",function(e){inline_legend_mousover("officialBusiness")}).on("mouseout",function(e){d3.selectAll(".bg_tweet").style("opacity",1)}),d3.select(".legend-JJ").on("mouseover",function(e){inline_legend_words_mouseover("JJ"),inline_legend_words_mouseover("JJR"),inline_legend_words_mouseover("JJS")}).on("mouseout",function(e){d3.selectAll(".bg_tweetword").style("opacity",1)}),d3.select(".legend-RB").on("mouseover",function(e){inline_legend_words_mouseover("RB"),inline_legend_words_mouseover("RBR"),inline_legend_words_mouseover("RBS")}).on("mouseout",function(e){d3.selectAll(".bg_tweetword").style("opacity",1)}),d3.select(".legend-UH").on("mouseover",function(e){inline_legend_words_mouseover("UH")}).on("mouseout",function(e){d3.selectAll(".bg_tweetword").style("opacity",1)}),d3.select(".legend-NN").on("mouseover",function(e){inline_legend_words_mouseover("NN"),inline_legend_words_mouseover("NNS")}).on("mouseout",function(e){d3.selectAll(".bg_tweetword").style("opacity",1)}),d3.select(".legend-PRP").on("mouseover",function(e){inline_legend_words_mouseover("PRP"),inline_legend_words_mouseover("PRPd")}).on("mouseout",function(e){d3.selectAll(".bg_tweetword").style("opacity",1)}),d3.select(".legend-NNP").on("mouseover",function(e){inline_legend_words_mouseover("NNP"),inline_legend_words_mouseover("NNPS"),inline_legend_words_mouseover("POS")}).on("mouseout",function(e){d3.selectAll(".bg_tweetword").style("opacity",1)}),d3.select(".legend-VB").on("mouseover",function(e){inline_legend_words_mouseover("VB"),inline_legend_words_mouseover("VBD"),inline_legend_words_mouseover("VBG"),inline_legend_words_mouseover("VBN"),inline_legend_words_mouseover("VBP"),inline_legend_words_mouseover("VBZ")}).on("mouseout",function(e){d3.selectAll(".bg_tweetword").style("opacity",1)}),d3.select(".legend-WP").on("mouseover",function(e){inline_legend_words_mouseover("WP"),inline_legend_words_mouseover("WRB")}).on("mouseout",function(e){d3.selectAll(".bg_tweetword").style("opacity",1)}),d3.select(".legend-WEB").on("mouseover",function(e){inline_legend_words_mouseover("WEB")}).on("mouseout",function(e){d3.selectAll(".bg_tweetword").style("opacity",1)}),d3.select(".legend-other").on("mouseover",function(e){inline_legend_words_mouseover("DT"),inline_legend_words_mouseover("WDT"),inline_legend_words_mouseover("MD"),inline_legend_words_mouseover("IN"),inline_legend_words_mouseover("TO"),inline_legend_words_mouseover("FW"),inline_legend_words_mouseover("CD"),inline_legend_words_mouseover("CC"),inline_legend_words_mouseover("RP"),inline_legend_words_mouseover("EX")}).on("mouseout",function(e){d3.selectAll(".bg_tweetword").style("opacity",1)});var vpWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),vpHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),deskW=!1,tabW=!1,mobileW=!1;vpWidth>=1024&&(deskW=!0),vpWidth>=768&&vpWidth<1024&&(tabW=!0),/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(mobileW=!0);var distance2grammar=$("#grammar").offset().top-.5*window.innerHeight,distance2endS2=$("#endS2").offset().top-$("#section2").offset().top-.5*window.innerHeight;mobileW&&(distance2endS2+=200,$(".temporary_spacer").css("height","800px"));var margin={top:20,right:50,bottom:20,left:20};tabW&&(margin.left=20,margin.right=20),mobileW&&(margin.left=20,margin.right=20);var s2w=document.getElementById("section2chart").offsetWidth-margin.right-margin.left,s2h=document.getElementById("section2chart").offsetHeight-margin.top-margin.bottom,s2width=vpWidth-400-margin.left-margin.right,s2textWidth=vpWidth-100-s2width-margin.left-margin.right,s2startingHeight=25,s2height=300,s2textHeight=800;tabW&&(s2width=vpWidth-margin.left-margin.right,s2textWidth=vpWidth-margin.left-margin.right),mobileW&&(s2width=vpWidth-margin.left-margin.right,s2textWidth=vpWidth-margin.left-margin.right),vpWidth>1300&&(s2width=1e3-margin.left-margin.right,s2textWidth=vpWidth-100-s2width-margin.left-margin.right),d3.select(".section2_text").style("width",s2textWidth+"px");var parseDateTime=d3.timeParse("%m/%d/%Y %H:%M:%S"),parseTime=d3.timeFormat("%H:%M:%S"),parseDate=d3.timeFormat("%d %B"),x=d3.scaleTime().domain([new Date(2017,0,20),new Date(2017,3,29)]).range([25,s2w]),y=d3.scaleLinear().domain([86400,0]).range([s2h-60,100]),w=d3.scaleLinear().domain([0,140]).range([0,2.5]);